mixin nav(currentPath, nav)
  ul
    for navItem in nav
      - var className = navItem.path === currentPath ? 'navItem--active' : 'navItem';
      li(class=className)
        a(href=h.publicPath(navItem.path))=navItem.file.title
        if(navItem.children.length > 0)
          nav(currentPath, navItem.children)

doctype html
html
  head
    meta(content='IE=edge', http-equiv='X-UA-Compatible')
    meta(charset='utf-8')
    meta(content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no', name='viewport')
    link(rel='icon', href=h.publicPath('assets/favicon.png'))
    meta(content='IE=edge,chrome=1', http-equiv='X-UA-Compatible')
    title react-instantsearch | #{title}
    link(rel='stylesheet', href=h.publicPath('index.css'))
  body
    include ./common/header.pug
    .container
      .navigation
        .nav.core
          +nav(nav_path, navs.core)
        .nav.widgets
          +nav(nav_path, navs.widgets)
        .nav.examples
          +nav(nav_path, navs.examples)
      .content!=contents
    include ./common/footer.pug
    script(src=webpack.assets['assets/js/api.js'])
