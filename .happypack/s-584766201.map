{"version":3,"sources":["docgen/assets/js/activateClipboard.js"],"names":["activateClipboard","codeSamples","forEach","cleanAfter","timeout","copyToClipboard","document","createElement","setup","clearTimeout","textContent","classList","remove","add","done","clipboard","text","codeSample","querySelector","appendChild","addEventListener","on","setTimeout"],"mappings":";;;;;kBAEwBA,iB;;AAFxB;;;;;;AAEe,SAASA,iBAAT,CAA2BC,WAA3B,EAAwC;AACrDA,cAAYC,OAAZ,CAAoB,sBAAc;AAChC,QAAMC,aAAa,GAAnB;AACA,QAAIC,gBAAJ;AACA,QAAMC,kBAAkBC,SAASC,aAAT,CAAuB,MAAvB,CAAxB;;AAEA,QAAMC,QAAQ,SAARA,KAAQ,GAAM;AAClBC,mBAAaL,OAAb;AACAC,sBAAgBK,WAAhB,GAA8B,mBAA9B;AACAL,sBAAgBM,SAAhB,CAA0BC,MAA1B,CAAiC,gBAAjC;AACAP,sBAAgBM,SAAhB,CAA0BE,GAA1B,CAA8B,WAA9B;AACD,KALD;;AAOA,QAAMC,OAAO,SAAPA,IAAO,GAAM;AACjBT,sBAAgBM,SAAhB,CAA0BE,GAA1B,CAA8B,gBAA9B;AACAR,sBAAgBK,WAAhB,GAA8B,SAA9B;AACD,KAHD;;AAKA,QAAMK,YAAY,wBAAcV,eAAd,EAA+B;AAC/CW,YAAM;AAAA,eAAMC,WAAWC,aAAX,CAAyB,MAAzB,EAAiCR,WAAvC;AAAA;AADyC,KAA/B,CAAlB;;AAIAF;AACAS,eAAWC,aAAX,CAAyB,UAAzB,EAAqCC,WAArC,CAAiDd,eAAjD;AACAA,oBAAgBe,gBAAhB,CAAiC,YAAjC,EAA+CZ,KAA/C,EAAsD,IAAtD;AACAO,cAAUM,EAAV,CAAa,SAAb,EAAwB,YAAM;AAC5BP;AACAV,gBAAUkB,WAAWd,KAAX,EAAkBL,UAAlB,CAAV;AACD,KAHD;AAID,GA5BD;AA6BD;;;;;;;;gCA9BuBH,iB","file":"activateClipboard.js","sourceRoot":"/Users/lucasbonomi/Sites/instantsearch.js","sourcesContent":["import Clipboard from 'clipboard';\n\nexport default function activateClipboard(codeSamples) {\n  codeSamples.forEach(codeSample => {\n    const cleanAfter = 500;\n    let timeout;\n    const copyToClipboard = document.createElement('span');\n\n    const setup = () => {\n      clearTimeout(timeout);\n      copyToClipboard.textContent = 'Copy to clipboard';\n      copyToClipboard.classList.remove('clipboard-done');\n      copyToClipboard.classList.add('clipboard');\n    };\n\n    const done = () => {\n      copyToClipboard.classList.add('clipboard-done');\n      copyToClipboard.textContent = 'Copied!';\n    };\n\n    const clipboard = new Clipboard(copyToClipboard, {\n      text: () => codeSample.querySelector('code').textContent,\n    });\n\n    setup();\n    codeSample.querySelector('.heading').appendChild(copyToClipboard);\n    copyToClipboard.addEventListener('mouseleave', setup, true);\n    clipboard.on('success', () => {\n      done();\n      timeout = setTimeout(setup, cleanAfter);\n    });\n  });\n}\n"]}