{"version":3,"sources":["docgen/assets/js/header.js"],"names":["initHeader","cmSearch","searchIcon","document","querySelector","cancelIcon","searchContainer","searchInput","openSearchInput","classList","add","focus","closeSearchInput","remove","emptySearchInput","value","addEventListener","window","onresize","toggleMobileMenu","args","trigger","opened","target","openedClass","toggleMenu","docsearch","apiKey","indexName","inputSelector","debug","body","clientWidth","cancelIconMobile","mobileSearchBla","wrapMenuOnMobile","container","wrapper","createElement","id","innerMenu","innerHTML","getElementById","appendChild","setTimeout","style","display","links","querySelectorAll","linksArray","linksTpl","inm","searchButton","cancelButton","forEach","e","getAttribute","push","link","href","name","textContent","displayDropdown","active","toggle","stopPropagation","preventDefault","catchCmdF","maybeOpenSearchBox","tagName","keyCode","blur"],"mappings":"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","file":"header.js","sourceRoot":"/Users/lucasbonomi/Sites/instantsearch.js","sourcesContent":["export default function initHeader() {\n  const cmSearch = function () {\n    const searchIcon = document.querySelector('#search');\n    const cancelIcon = document.querySelector('#cancel');\n    const searchContainer = document.querySelector('.cm-search__input');\n    const searchInput = document.querySelector('#searchbox');\n\n    function openSearchInput () {\n      searchContainer.classList.add('open');\n      searchInput.focus();\n    }\n\n    function closeSearchInput () {\n      searchContainer.classList.remove('open');\n    }\n\n    function emptySearchInput () {\n      if (searchInput.value !== '') {\n        searchInput.value = '';\n      } else {\n        closeSearchInput();\n      }\n    }\n\n    searchIcon.addEventListener('click', openSearchInput);\n    cancelIcon.addEventListener('click', emptySearchInput);\n\n    window.onresize = function () {\n      emptySearchInput();\n      closeSearchInput();\n    };\n\n    return cmSearch;\n  };\n\n  const toggleMobileMenu = function(args) {\n    const trigger = args.trigger || '#open-menu';\n    let opened = false;\n    const target = args.target || '.cm-navigation__menu';\n    const openedClass = args.openedClass || 'opened';\n\n    document.querySelector(trigger).addEventListener('click', toggleMenu);\n\n    function toggleMenu() {\n      /* eslint-disable no-undef */\n      docsearch({\n        apiKey: '5cb6763f264e31381e18639a1147634c',\n        indexName: 'react-instantsearch',\n        inputSelector: '#mobile-searchbox',\n        debug: true,\n      });\n\n      if (document.body.clientWidth < 768) {\n        if (opened === false) {\n          opened = true;\n          document.querySelector('#menu-wrapper').classList.add(openedClass);\n        } else {\n          opened = false;\n          document.querySelector('#menu-wrapper').classList.remove(openedClass);\n        }\n      } else if (opened === false) {\n        opened = true;\n        document.querySelector(target).classList.add(openedClass);\n      } else {\n        opened = false;\n        document.querySelector(target).classList.remove(openedClass);\n      }\n\n      const cancelIconMobile = document.querySelector('#cancel-mobile');\n      cancelIconMobile.addEventListener('click', mobileSearchBla);\n\n      function mobileSearchBla() {\n        document.querySelector('#searchbox-mobile').value = '';\n      }\n    }\n  };\n\n  function wrapMenuOnMobile() {\n    const container = document.querySelector('.cm-navigation');\n    const wrapper = document.createElement('div');\n    wrapper.id = 'menu-wrapper';\n    wrapper.classList.add('cm-navigation__menu');\n    wrapper.classList.add('mobile-navigation-wrapper');\n    const innerMenu = document.querySelector('.cm-navigation__menu').innerHTML;\n\n    if (!document.getElementById('menu-wrapper')) {\n      wrapper.innerHTML = innerMenu;\n\n      container.appendChild(wrapper);\n      setTimeout(() => {\n        document.querySelector('#menu-wrapper .cm-menu__list:first-of-type').style.display = 'none';\n        const links = document.querySelectorAll('#menu-wrapper a');\n        const linksArray = [];\n        let linksTpl = '';\n        const inm = document.querySelector('.mobile-navigation-wrapper input');\n        const searchButton = document.querySelector('.mobile-navigation-wrapper button#search');\n        const cancelButton = document.querySelector('.mobile-navigation-wrapper button#cancel');\n        inm.id = 'mobile-searchbox';\n        searchButton.id = 'search-mobile';\n        cancelButton.id = 'cancel-mobile';\n\n        links.forEach(e => {\n          if (e.getAttribute('data-link')) {\n            linksArray.push({\n              link: e.href,\n              name: e.textContent,\n            });\n          }\n        });\n\n        linksArray.forEach(e => {\n          linksTpl += `<li class=\"cm-menu__list__item\"><a href=\"${e.link}\">${e.name}</a></li>`;\n        });\n        wrapper.innerHTML += `<ul class=\"cm-menu__list\">${linksTpl}</ul>`;\n      });\n    }\n  }\n\n  function displayDropdown() {\n    let active = false;\n    const trigger = document.querySelector('.cm-navigation__brands--community');\n    document.querySelector('body').addEventListener('click', () => {\n      if (active) {\n        toggle();\n      }\n    });\n\n    trigger.addEventListener('click', e => {\n      e.stopPropagation();\n      e.preventDefault();\n      toggle();\n    });\n\n    function toggle() {\n      active = !active;\n      trigger.classList.toggle('dropdownActive');\n    }\n  }\n\n  // If the user type :\"s\" or \"/\", open the searchbox\n  function catchCmdF() {\n    document.addEventListener('keyup', maybeOpenSearchBox);\n\n    function maybeOpenSearchBox(e) {\n      if (e.target.tagName !== 'INPUT' && e.keyCode === 83 || e.keyCode === 191) {\n        document.querySelector('.cm-search__input').classList.add('open');\n        document.querySelector('#searchbox').focus();\n      } else if (e.keyCode === 27) {\n        document.querySelector('.cm-search__input').classList.remove('open');\n        document.querySelector('#searchbox').blur();\n      }\n    }\n  }\n\n  window.addEventListener('DOMContentLoaded', () => {\n    cmSearch();\n    toggleMobileMenu({\n      trigger: '#open-menu',\n    });\n\n    wrapMenuOnMobile();\n    displayDropdown();\n    catchCmdF();\n  });\n\n  window.addEventListener('resize', () => {\n    if (document.body.clientWidth < 768) {\n      wrapMenuOnMobile();\n    }\n  });\n}\n"]}